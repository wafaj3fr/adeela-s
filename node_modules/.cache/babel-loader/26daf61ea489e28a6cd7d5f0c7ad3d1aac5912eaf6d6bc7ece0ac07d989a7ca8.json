{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport React, { PureComponent, cloneElement } from 'react';\nimport PropTypes from 'prop-types';\nimport MapContext from './map-context';\nimport assert from '../utils/assert';\nvar propTypes = {\n  type: PropTypes.string.isRequired,\n  id: PropTypes.string\n};\nvar sourceCounter = 0;\nvar Source = function (_PureComponent) {\n  _inherits(Source, _PureComponent);\n  function Source(props) {\n    var _this;\n    _classCallCheck(this, Source);\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Source).call(this, props));\n    _defineProperty(_assertThisInitialized(_this), \"id\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"type\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_map\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_sourceOptions\", {});\n    _this.id = props.id || \"jsx-source-\".concat(sourceCounter++);\n    _this.type = props.type;\n    return _this;\n  }\n  _createClass(Source, [{\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this._map.removeSource(this.id);\n    }\n  }, {\n    key: \"getSource\",\n    value: function getSource() {\n      return this._map.getSource(this.id);\n    }\n  }, {\n    key: \"_createSource\",\n    value: function _createSource() {\n      var _this2 = this;\n      var map = this._map;\n      if (map.style._loaded) {\n        map.addSource(this.id, this._sourceOptions);\n      } else {\n        map.once('styledata', function () {\n          return _this2.forceUpdate();\n        });\n      }\n    }\n  }, {\n    key: \"_updateSource\",\n    value: function _updateSource() {\n      var sourceOptions = this._sourceOptions,\n        props = this.props;\n      assert(!props.id || props.id === this.id, 'source id changed');\n      assert(props.type === this.type, 'source type changed');\n      var changedKey = null;\n      var changedKeyCount = 0;\n      for (var key in props) {\n        if (key !== 'children' && key !== 'id' && sourceOptions[key] !== props[key]) {\n          sourceOptions[key] = props[key];\n          changedKey = key;\n          changedKeyCount++;\n        }\n      }\n      var type = this.type,\n        map = this._map;\n      var source = this.getSource();\n      if (!source) {\n        this._createSource();\n        return;\n      }\n      if (!changedKeyCount) {\n        return;\n      }\n      if (type === 'geojson') {\n        source.setData(sourceOptions.data);\n      } else if (type === 'image') {\n        source.updateImage({\n          url: sourceOptions.url,\n          coordinates: sourceOptions.coordinates\n        });\n      } else if ((type === 'canvas' || type === 'video') && changedKeyCount === 1 && changedKey === 'coordinates') {\n        source.setCoordinates(sourceOptions.coordinates);\n      } else {\n        map.removeSource(this.id);\n        map.addSource(sourceOptions);\n      }\n    }\n  }, {\n    key: \"_render\",\n    value: function _render(context) {\n      var _this3 = this;\n      this._map = context.map;\n      this._updateSource();\n      return React.Children.map(this.props.children, function (child) {\n        return cloneElement(child, {\n          source: _this3.id\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(MapContext.Consumer, null, this._render.bind(this));\n    }\n  }]);\n  return Source;\n}(PureComponent);\n_defineProperty(Source, \"propTypes\", propTypes);\nexport { Source as default };","map":{"version":3,"names":["React","PureComponent","cloneElement","PropTypes","MapContext","assert","propTypes","type","string","isRequired","id","sourceCounter","Source","props","_this","_classCallCheck","_possibleConstructorReturn","_getPrototypeOf","call","_defineProperty","_assertThisInitialized","concat","_map","removeSource","getSource","_this2","map","style","_loaded","addSource","_sourceOptions","once","forceUpdate","sourceOptions","changedKey","changedKeyCount","key","source","_createSource","setData","data","updateImage","url","coordinates","setCoordinates","context","_this3","_updateSource","Children","children","child","createElement","Consumer","_render","bind"],"sources":["/home/hp/adeela_map/adeela/node_modules/react-map-gl/src/components/source.js"],"sourcesContent":["// @flow\n// Copyright (c) 2015 Uber Technologies, Inc.\n\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\nimport React, {PureComponent, cloneElement} from 'react';\nimport PropTypes from 'prop-types';\nimport MapContext from './map-context';\nimport assert from '../utils/assert';\n\nimport type {MapContextProps} from './map-context';\n\nconst propTypes = {\n  type: PropTypes.string.isRequired,\n  id: PropTypes.string\n};\n\ntype SourceProps = {\n  id?: string,\n  type: string,\n  children?: any\n};\n\nlet sourceCounter = 0;\n\nexport default class Source<Props: SourceProps> extends PureComponent<Props> {\n  static propTypes = propTypes;\n\n  constructor(props: Props) {\n    super(props);\n    this.id = props.id || `jsx-source-${sourceCounter++}`;\n    this.type = props.type;\n  }\n\n  componentWillUnmount() {\n    this._map.removeSource(this.id);\n  }\n\n  id: string;\n  type: string;\n  _map: any = null;\n  _sourceOptions: any = {};\n\n  getSource() {\n    return this._map.getSource(this.id);\n  }\n\n  _createSource() {\n    const map = this._map;\n    if (map.style._loaded) {\n      map.addSource(this.id, this._sourceOptions);\n    } else {\n      map.once('styledata', () => this.forceUpdate());\n    }\n  }\n\n  /* eslint-disable complexity */\n  _updateSource() {\n    const {_sourceOptions: sourceOptions, props} = this;\n    assert(!props.id || props.id === this.id, 'source id changed');\n    assert(props.type === this.type, 'source type changed');\n\n    let changedKey = null;\n    let changedKeyCount = 0;\n\n    for (const key in props) {\n      if (key !== 'children' && key !== 'id' && sourceOptions[key] !== props[key]) {\n        sourceOptions[key] = props[key];\n        changedKey = key;\n        changedKeyCount++;\n      }\n    }\n\n    const {type, _map: map} = this;\n    const source = this.getSource();\n    if (!source) {\n      this._createSource();\n      return;\n    }\n    if (!changedKeyCount) {\n      return;\n    }\n    if (type === 'geojson') {\n      source.setData(sourceOptions.data);\n    } else if (type === 'image') {\n      source.updateImage({url: sourceOptions.url, coordinates: sourceOptions.coordinates});\n    } else if (\n      (type === 'canvas' || type === 'video') &&\n      changedKeyCount === 1 &&\n      changedKey === 'coordinates'\n    ) {\n      source.setCoordinates(sourceOptions.coordinates);\n    } else {\n      map.removeSource(this.id);\n      map.addSource(sourceOptions);\n    }\n  }\n  /* eslint-enable complexity */\n\n  _render(context: MapContextProps) {\n    this._map = context.map;\n    this._updateSource();\n    return React.Children.map(this.props.children, child =>\n      cloneElement(child, {\n        source: this.id\n      })\n    );\n  }\n\n  render() {\n    return <MapContext.Consumer>{this._render.bind(this)}</MapContext.Consumer>;\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}