{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport MapContext from './map-context';\nimport assert from '../utils/assert';\nimport deepEqual from '../utils/deep-equal';\nvar propTypes = {\n  type: PropTypes.string.isRequired,\n  id: PropTypes.string,\n  source: PropTypes.string,\n  beforeId: PropTypes.string\n};\nfunction diffLayerStyles(map, id, props, prevProps) {\n  var _props$layout = props.layout,\n    layout = _props$layout === void 0 ? {} : _props$layout,\n    _props$paint = props.paint,\n    paint = _props$paint === void 0 ? {} : _props$paint,\n    filter = props.filter,\n    minzoom = props.minzoom,\n    maxzoom = props.maxzoom,\n    beforeId = props.beforeId,\n    otherProps = _objectWithoutProperties(props, [\"layout\", \"paint\", \"filter\", \"minzoom\", \"maxzoom\", \"beforeId\"]);\n  if (beforeId !== prevProps.beforeId) {\n    map.moveLayer(id, beforeId);\n  }\n  if (layout !== prevProps.layout) {\n    for (var key in layout) {\n      if (!deepEqual(layout[key], prevProps.layout[key])) {\n        map.setLayoutProperty(id, key, layout[key]);\n      }\n    }\n  }\n  if (paint !== prevProps.paint) {\n    for (var _key in paint) {\n      if (!deepEqual(paint[_key], prevProps.paint[_key])) {\n        map.setPaintProperty(id, _key, paint[_key]);\n      }\n    }\n  }\n  if (!deepEqual(filter, prevProps.filter)) {\n    map.setFilter(id, filter);\n  }\n  if (minzoom !== prevProps.minzoom || maxzoom !== prevProps.maxzoom) {\n    map.setLayerZoomRange(id, minzoom, maxzoom);\n  }\n  for (var _key2 in otherProps) {\n    if (!deepEqual(otherProps[_key2], prevProps[_key2])) {\n      map.setLayerProperty(id, _key2, otherProps[_key2]);\n    }\n  }\n}\nvar layerCounter = 0;\nvar Layer = function (_PureComponent) {\n  _inherits(Layer, _PureComponent);\n  function Layer(props) {\n    var _this;\n    _classCallCheck(this, Layer);\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Layer).call(this, props));\n    _defineProperty(_assertThisInitialized(_this), \"id\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"type\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_map\", null);\n    _this.id = props.id || \"jsx-layer-\".concat(layerCounter++);\n    _this.type = props.type;\n    return _this;\n  }\n  _createClass(Layer, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this._createLayer();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      this._updateLayer(prevProps);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this._map.removeLayer(this.id);\n    }\n  }, {\n    key: \"_createLayer\",\n    value: function _createLayer() {\n      var _this2 = this;\n      var map = this._map;\n      var options = Object.assign({}, this.props);\n      options.id = this.id;\n      delete options.beforeId;\n      if (map.style._loaded) {\n        map.addLayer(options, this.props.beforeId);\n      } else {\n        map.once('styledata', function () {\n          return _this2.forceUpdate();\n        });\n      }\n    }\n  }, {\n    key: \"_updateLayer\",\n    value: function _updateLayer(prevProps) {\n      var props = this.props;\n      assert(!props.id || props.id === this.id, 'layer id changed');\n      assert(props.type === this.type, 'layer type changed');\n      var map = this._map;\n      if (!map.getLayer(this.id)) {\n        this._createLayer();\n        return;\n      }\n      try {\n        diffLayerStyles(map, this.id, props, prevProps);\n      } catch (error) {\n        console.warn(error);\n      }\n    }\n  }, {\n    key: \"_render\",\n    value: function _render(context) {\n      this._map = context.map;\n      return null;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(MapContext.Consumer, null, this._render.bind(this));\n    }\n  }]);\n  return Layer;\n}(PureComponent);\n_defineProperty(Layer, \"propTypes\", propTypes);\nexport { Layer as default };","map":{"version":3,"names":["React","PureComponent","PropTypes","MapContext","assert","deepEqual","propTypes","type","string","isRequired","id","source","beforeId","diffLayerStyles","map","props","prevProps","_props$layout","layout","_props$paint","paint","filter","minzoom","maxzoom","otherProps","_objectWithoutProperties","moveLayer","key","setLayoutProperty","_key","setPaintProperty","setFilter","setLayerZoomRange","_key2","setLayerProperty","layerCounter","Layer","_this","_classCallCheck","_possibleConstructorReturn","_getPrototypeOf","call","_defineProperty","_assertThisInitialized","concat","_createLayer","_updateLayer","_map","removeLayer","_this2","options","Object","assign","style","_loaded","addLayer","once","forceUpdate","getLayer","error","console","warn","context","createElement","Consumer","_render","bind"],"sources":["/home/hp/adeela_map/adeela/node_modules/react-map-gl/src/components/layer.js"],"sourcesContent":["// @flow\n// Copyright (c) 2015 Uber Technologies, Inc.\n\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\nimport React, {PureComponent} from 'react';\nimport PropTypes from 'prop-types';\nimport MapContext from './map-context';\nimport assert from '../utils/assert';\nimport deepEqual from '../utils/deep-equal';\n\nimport type {MapContextProps} from './map-context';\n\nconst propTypes = {\n  type: PropTypes.string.isRequired,\n  id: PropTypes.string,\n  source: PropTypes.string,\n  beforeId: PropTypes.string\n};\n\ntype LayerProps = {\n  id?: string,\n  type: string,\n  source?: string,\n  beforeId?: string,\n  layout: any,\n  paint: any,\n  filter?: Array<mixed>,\n  minzoom?: number,\n  maxzoom?: number\n};\n\n/* eslint-disable complexity */\nfunction diffLayerStyles(map: any, id: string, props: LayerProps, prevProps: LayerProps) {\n  const {layout = {}, paint = {}, filter, minzoom, maxzoom, beforeId, ...otherProps} = props;\n\n  if (beforeId !== prevProps.beforeId) {\n    map.moveLayer(id, beforeId);\n  }\n  if (layout !== prevProps.layout) {\n    for (const key in layout) {\n      if (!deepEqual(layout[key], prevProps.layout[key])) {\n        map.setLayoutProperty(id, key, layout[key]);\n      }\n    }\n  }\n  if (paint !== prevProps.paint) {\n    for (const key in paint) {\n      if (!deepEqual(paint[key], prevProps.paint[key])) {\n        map.setPaintProperty(id, key, paint[key]);\n      }\n    }\n  }\n  if (!deepEqual(filter, prevProps.filter)) {\n    map.setFilter(id, filter);\n  }\n  if (minzoom !== prevProps.minzoom || maxzoom !== prevProps.maxzoom) {\n    map.setLayerZoomRange(id, minzoom, maxzoom);\n  }\n  for (const key in otherProps) {\n    if (!deepEqual(otherProps[key], prevProps[key])) {\n      map.setLayerProperty(id, key, otherProps[key]);\n    }\n  }\n}\n/* eslint-enable complexity */\n\nlet layerCounter = 0;\n\nexport default class Layer<Props: LayerProps> extends PureComponent<Props> {\n  static propTypes = propTypes;\n\n  constructor(props: Props) {\n    super(props);\n    this.id = props.id || `jsx-layer-${layerCounter++}`;\n    this.type = props.type;\n  }\n\n  componentDidMount() {\n    this._createLayer();\n  }\n\n  componentDidUpdate(prevProps: LayerProps) {\n    this._updateLayer(prevProps);\n  }\n\n  componentWillUnmount() {\n    this._map.removeLayer(this.id);\n  }\n\n  id: string;\n  type: string;\n  _map: any = null;\n\n  _createLayer() {\n    const map = this._map;\n    const options = Object.assign({}, this.props);\n    options.id = this.id;\n    delete options.beforeId;\n\n    if (map.style._loaded) {\n      // console.log('adding layer');\n      map.addLayer(options, this.props.beforeId);\n    } else {\n      map.once('styledata', () => this.forceUpdate());\n    }\n  }\n\n  /* eslint-disable complexity */\n  _updateLayer(prevProps: LayerProps) {\n    const {props} = this;\n    assert(!props.id || props.id === this.id, 'layer id changed');\n    assert(props.type === this.type, 'layer type changed');\n\n    const map = this._map;\n\n    if (!map.getLayer(this.id)) {\n      this._createLayer();\n      return;\n    }\n\n    try {\n      diffLayerStyles(map, this.id, props, prevProps);\n    } catch (error) {\n      console.warn(error); // eslint-disable-line\n    }\n  }\n  /* eslint-disable complexity */\n\n  _render(context: MapContextProps) {\n    this._map = context.map;\n    return null;\n  }\n\n  render() {\n    return <MapContext.Consumer>{this._render.bind(this)}</MapContext.Consumer>;\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}